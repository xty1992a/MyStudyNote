#闭包
---
闭包产生条件:
当一个嵌套的内部函数引用了外部函数的变量时,就产生了闭包;
闭包的理解有两种:
- 闭包是嵌套的内部函数
- 闭包是包含了被引用变量的对象,这个对象存在于内部函数中,它涵盖了外部函数作用域
		

js的垃圾回收(GC)机制是,当一个对象不被任何变量引用时,它就成为了垃圾对象,它的内存空间就将被释放回收;
函数被调用时,将生成一个环境对象,调用完毕,这个环境对象被销毁,函数内部的变量被回收;
要获取一个函数内部的变量,可以选择直接把这个变量return,也可以选择return引用了这个变量的内部函数,内部函数初始化完成后会自动创建闭包对象;
如果这个内部函数被暴露并被接收,闭包对象也将继续存活,外部函数被释放之后依然能够操作这个对象中的属性---即在外部函数生命周期结束之后,依然能够操作外部函数中的变量

```
function foo(){
	var a = 1;
	function bar(){
		console.log(a);
	}
	return bar
}

var baz = foo();	//外部函数必须被调用,调用几次,产生几个闭包
baz()				//1;

function foo(){
	var a = 1;
	function bar(){
		console.log(a);
	}
	baz(bar);
}
function baz(fn){
	fn()
}
foo()
```